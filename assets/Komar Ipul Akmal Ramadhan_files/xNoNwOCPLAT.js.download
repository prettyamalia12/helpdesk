if (self.CavalryLogger) { CavalryLogger.start_js(["pAQ0b"]); }

/**
 * @providesModule IntersectionObserverFallback
 * @preserve-header
 * @fullSyntaxTransform
 * 
 * @format
 * Modified by Facebook
 *
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
__d('IntersectionObserverFallback',['TimeSlice','performanceNow','setInterval','throttle'],(function a(b,c,d,e,f,g){'use strict';var h=document.documentElement,i=[];function j(n,o){var p=Math.max(n.top,o.top),q=Math.min(n.bottom,o.bottom),r=Math.max(n.left,o.left),s=Math.min(n.right,o.right),t=s-r,u=q-p;return t>=0&&u>=0?{top:p,bottom:q,left:r,right:s,width:t,height:u}:undefined}function k(){return {top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(n){this.time=n.time;this.target=n.target;this.rootBounds=n.rootBounds;this.boundingClientRect=n.boundingClientRect;this.intersectionRect=n.intersectionRect||k();this.isIntersecting=!!n.intersectionRect;var o=this.boundingClientRect,p=o.width*o.height,q=this.intersectionRect.width*this.intersectionRect.height;this.intersectionRatio=p?q/p:0}function m(n,o){this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$IntersectionObserverFallback12=c('TimeSlice').guard(c('throttle')(function(){var r=this.$IntersectionObserverFallback14(),s=r?this.$IntersectionObserverFallback15():k();this.$IntersectionObserverFallback6.forEach(function(t){var u=t.element,v=u.getBoundingClientRect(),w=this.$IntersectionObserverFallback16(u),x=t.entry,y=r&&w&&!this.$IntersectionObserverFallback2&&this.$IntersectionObserverFallback17(u,s),z=t.entry=new l({time:c('performanceNow')(),target:u,boundingClientRect:v,rootBounds:s,intersectionRect:y});if(r&&w){if(this.$IntersectionObserverFallback18(x,z))this.$IntersectionObserverFallback7.push(z);}else if(x&&x.isIntersecting)this.$IntersectionObserverFallback7.push(z);}.bind(this));if(this.$IntersectionObserverFallback7.length)this.$IntersectionObserverFallback1(this.takeRecords(),this);}.bind(this),this.THROTTLE_TIMEOUT),'IntersectionObserverFallback: checkForIntersections');this.$IntersectionObserverFallback2=false;try{var p=window.top.document}catch(r){this.$IntersectionObserverFallback2=true}var q=o||{};this.$IntersectionObserverFallback1=n;this.$IntersectionObserverFallback4=false;this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback7=[];this.$IntersectionObserverFallback8=this.$IntersectionObserverFallback9(q.rootMargin);this.thresholds=this.$IntersectionObserverFallback10(q.threshold);this.root=q.root||null;this.rootMargin=this.$IntersectionObserverFallback8.map(function(r){return r.value+r.unit}).join(' ')}m.prototype.$IntersectionObserverFallback10=function(n){var o=n||[0];return o.sort().filter(function(p,q,r){return p!==r[q-1]})};m.prototype.$IntersectionObserverFallback9=function(n){var o=n||'0px',p=o.split(/\s+/).map(function(q){var r=/^(-?\d*\.?\d+)(px|%)$/.exec(q);return {value:parseFloat(r[1]),unit:r[2]}});p[1]=p[1]||p[0];p[2]=p[2]||p[0];p[3]=p[3]||p[1];return p};m.prototype.$IntersectionObserverFallback11=function(){if(!this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=true;this.$IntersectionObserverFallback12();if(this.POLL_INTERVAL){this.$IntersectionObserverFallback5=c('setInterval')(this.$IntersectionObserverFallback12,this.POLL_INTERVAL)}else{window.addEventListener('resize',this.$IntersectionObserverFallback12);document.addEventListener('scroll',this.$IntersectionObserverFallback12);if('MutationObserver' in window){this.$IntersectionObserverFallback3=new MutationObserver(this.$IntersectionObserverFallback12);this.$IntersectionObserverFallback3.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}}}};m.prototype.$IntersectionObserverFallback13=function(){if(this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=false;if(this.$IntersectionObserverFallback5){clearInterval(this.$IntersectionObserverFallback5);this.$IntersectionObserverFallback5=undefined}window.removeEventListener('resize',this.$IntersectionObserverFallback12);document.removeEventListener('scroll',this.$IntersectionObserverFallback12);if(this.$IntersectionObserverFallback3){this.$IntersectionObserverFallback3.disconnect();this.$IntersectionObserverFallback3=undefined}}};m.prototype.$IntersectionObserverFallback17=function(n,o){if(window.getComputedStyle(n).display=='none')return undefined;var p=n.getBoundingClientRect(),q=p,r=n.parentElement,s=false;while(!s){var t=null;if(r==this.root||r&&r.nodeType!=1){s=true;t=o}else if(window.getComputedStyle(r).overflow!='visible')t=r&&r.getBoundingClientRect();if(t){q=j(t,q);if(!q)break;}r=r&&r.parentElement}return q};m.prototype.$IntersectionObserverFallback15=function(){var n=void 0;if(this.root){n=this.root.getBoundingClientRect()}else{var o=document.documentElement,p=document.body,q=o&&o.clientWidth||p&&p.clientWidth,r=o&&o.clientHeight||p&&p.clientHeight;n={top:0,left:0,right:q,width:q,bottom:r,height:r}}return this.$IntersectionObserverFallback19(n)};m.prototype.$IntersectionObserverFallback19=function(n){var o=this.$IntersectionObserverFallback8.map(function(q,r){return q.unit=='px'?q.value:q.value*(r%2?n.width:n.height)/100}),p={top:n.top-o[0],right:n.right+o[1],bottom:n.bottom+o[2],left:n.left-o[3],width:0,height:0};p.width=p.right-p.left;p.height=p.bottom-p.top;return p};m.prototype.$IntersectionObserverFallback18=function(n,o){var p=n&&n.isIntersecting?n.intersectionRatio||0:-1,q=o.isIntersecting?o.intersectionRatio||0:-1;if(p===q)return false;for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==p||s==q||s<p!==s<q)return true;}return false};m.prototype.$IntersectionObserverFallback14=function(){return !this.root||h!==null&&h.contains(this.root)};m.prototype.$IntersectionObserverFallback16=function(n){var o=this.root||h;return o!==null&&o.contains(n)};m.prototype.$IntersectionObserverFallback20=function(){if(i.indexOf(this)<0)i.push(this);};m.prototype.$IntersectionObserverFallback21=function(){var n=i.indexOf(this);if(n!=-1)i.splice(n,1);};m.prototype.observe=function(n){if(this.$IntersectionObserverFallback6.some(function(o){return o.element==n}))return;this.$IntersectionObserverFallback20();this.$IntersectionObserverFallback6.push({element:n,entry:null});this.$IntersectionObserverFallback11()};m.prototype.unobserve=function(n){this.$IntersectionObserverFallback6=this.$IntersectionObserverFallback6.filter(function(o){return o.element!=n});if(!this.$IntersectionObserverFallback6.length){this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()}};m.prototype.disconnect=function(){this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()};m.prototype.takeRecords=function(){var n=this.$IntersectionObserverFallback7.slice();this.$IntersectionObserverFallback7=[];return n};f.exports=m}),null);
__d('IntersectionObserver',['IntersectionObserverFallback'],(function a(b,c,d,e,f,g){'use strict';var h='IntersectionObserver' in window&&'IntersectionObserverEntry' in window&&'intersectionRatio' in window.IntersectionObserverEntry.prototype;f.exports=h?window.IntersectionObserver:c('IntersectionObserverFallback')}),null);