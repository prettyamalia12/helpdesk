if (self.CavalryLogger) { CavalryLogger.start_js(["3fun6"]); }

__d('AdsShimmerBar.react',['cx','fbt','LoadingMarker.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.renderAsGIF,p=babelHelpers.objectWithoutProperties(n,['renderAsGIF']);return c('React').createElement(c('LoadingMarker.react'),null,c('React').createElement('div',{'aria-busy':true,'aria-valuemax':'100','aria-valuemin':'0','aria-valuetext':i._("Loading..."),className:"_j-e",role:'progressbar'},c('React').createElement('div',{className:(!o?"_j-f":'')+(!!o?' '+"_1cld":''),style:p})))};function m(){j.apply(this,arguments)}m.propTypes={height:l.oneOfType([l.string,l.number]).isRequired,renderAsGIF:l.bool,width:l.oneOfType([l.string,l.number])};m.defaultProps={height:'6px',renderAsGIF:false};f.exports=m}),null);
__d("LocationManagerWebdriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ONBOARDING_START:"lm-onboarding-start",ONBOARDING_CONFIRM:"lm-onboarding-confirm"})}),null);
__d('LocationManagerSetUpWizard.react',['ix','cx','fbt','ApiPageFields','BIGPageDropdownSelector.react','Image.react','LayerFadeOnHide','LocationManagerWebdriverIDs','React','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react','XUISpinner.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').Component,n=c('React').PropTypes,o=550;k=babelHelpers.inherits(p,m);l=k&&k.prototype;function p(q){'use strict';l.constructor.call(this,q);this.$LocationManagerSetUpWizard3=function(r){this.setState({selectedPage:this.props.eligiblePages[r]})}.bind(this);this.$LocationManagerSetUpWizard13=function(){var r=this.$LocationManagerSetUpWizard10();if(r)this.props.onPageConversionRequested(r);}.bind(this);this.state={selectedPage:this.$LocationManagerSetUpWizard1(q.singlePageModeIfPossible,q.eligiblePages)?q.eligiblePages[this.$LocationManagerSetUpWizard2(q.eligiblePages)[0]]:null}}p.prototype.$LocationManagerSetUpWizard2=function(q){'use strict';return Object.keys(q)};p.prototype.$LocationManagerSetUpWizard1=function(q,r){'use strict';return !!(q&&this.$LocationManagerSetUpWizard2(r).length===1)};p.prototype.render=function(){'use strict';return c('React').createElement('div',null,this.$LocationManagerSetUpWizard4(),c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},this.props.buttonProps,{'data-testid':c('LocationManagerWebdriverIDs').ONBOARDING_START,ref:'button',onClick:this.props.onButtonClick})))};p.prototype.$LocationManagerSetUpWizard4=function(){'use strict';return c('React').createElement(c('XUIDialog.react'),{causalElementRef:function(){return this.refs.button}.bind(this),shown:this.props.isDialogShown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},width:o,onToggle:this.props.onDialogToggle},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('span',null,j._("Set Main Page"))),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_3qxn"},this.$LocationManagerSetUpWizard5(),this.$LocationManagerSetUpWizard6(),this.$LocationManagerSetUpWizard7(),this.$LocationManagerSetUpWizard8())),c('React').createElement(c('XUIDialogFooter.react'),null,this.$LocationManagerSetUpWizard9()))};p.prototype.$LocationManagerSetUpWizard5=function(){'use strict';if(this.$LocationManagerSetUpWizard1(this.props.singlePageModeIfPossible,this.props.eligiblePages))return null;return c('React').createElement('div',null,c('React').createElement('div',{className:"_3qxo"},j._("A Main Page helps you organize all the locations for a single business.")),c('React').createElement(c('BIGPageDropdownSelector.react'),{align:'left',defaultLabel:j._("Choose Page"),pages:this.props.eligiblePages,selectedActorID:this.$LocationManagerSetUpWizard10(),showBusinessPages:true,showPageName:true,size:'large',suppressed:false,onChange:this.$LocationManagerSetUpWizard3}))};p.prototype.$LocationManagerSetUpWizard6=function(){'use strict';if(!this.state.selectedPage||!this.state.selectedPage[c('ApiPageFields').SINGLE_LINE_ADDRESS])return null;return c('React').createElement('div',null,c('React').createElement('div',{className:"_57m2"},c('React').createElement(c('Image.react'),{className:"_57m5",src:h("114554")}),c('React').createElement('span',{className:"_57m6"},j._("This address will be removed when you make {page_name} a Main Page for a business:",[j.param('page_name',this.$LocationManagerSetUpWizard11())]))),c('React').createElement('div',{className:"_57m7"},c('React').createElement('div',{className:"_57mo"},j._("Address to be removed:")),this.$LocationManagerSetUpWizard12()))};p.prototype.$LocationManagerSetUpWizard12=function(){'use strict';if(this.state.selectedPage&&this.state.selectedPage[c('ApiPageFields').SINGLE_LINE_ADDRESS])return this.state.selectedPage[c('ApiPageFields').SINGLE_LINE_ADDRESS].split(', ').map(function(q,r){return c('React').createElement('span',{key:'token_'+r},q,c('React').createElement('br',null))});return null};p.prototype.$LocationManagerSetUpWizard7=function(){'use strict';if(!this.state.selectedPage)return null;return c('React').createElement('div',{className:"_57mp"},c('React').createElement('div',{className:"_57mt"},j._("What will happen to this Page?")),c('React').createElement('div',{className:"_3-8x"},j._("When {page_name} becomes a Main Page, you'll lose reviews, ratings and any address info. Content such as posts, likes and comments will continue to be associated with it.",[j.param('page_name',this.$LocationManagerSetUpWizard11())])),c('React').createElement('div',{className:"_3-8x"},j._("Locations managed under this Main Page can be listed on the Main Page and visible to people on Facebook.")))};p.prototype.$LocationManagerSetUpWizard9=function(){'use strict';if(this.props.isDialogLoading)return c('React').createElement(c('XUISpinner.react'),null);return c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),{action:'cancel'}),c('React').createElement(c('XUIDialogButton.react'),{className:"_2z1w",'data-testid':c('LocationManagerWebdriverIDs').ONBOARDING_CONFIRM,disabled:!this.state.selectedPage,label:j._("Continue"),use:'confirm',onClick:this.$LocationManagerSetUpWizard13}))};p.prototype.$LocationManagerSetUpWizard8=function(){'use strict';if(!this.props.hasDialogError)return null;return c('React').createElement('div',{className:"_3-8-"},c('React').createElement(c('XUINotice.react'),{use:'warn'},j._("Unable to complete the onboarding of the page selected. Please try again later.")))};p.prototype.$LocationManagerSetUpWizard11=function(){'use strict';return this.state.selectedPage?this.state.selectedPage[c('ApiPageFields').NAME]:j._("this page")};p.prototype.$LocationManagerSetUpWizard10=function(){'use strict';return this.state.selectedPage?''+this.state.selectedPage[c('ApiPageFields').ID]:null};p.propTypes={businessID:n.string.isRequired,buttonProps:n.object.isRequired,eligiblePages:n.object.isRequired,hasDialogError:n.bool.isRequired,isDialogLoading:n.bool.isRequired,isDialogShown:n.bool.isRequired,singlePageModeIfPossible:n.bool,onButtonClick:n.func.isRequired,onDialogToggle:n.func.isRequired,onPageConversionRequested:n.func.isRequired};f.exports=p}),null);
__d('LocationManagerSetUpWizardContainer.react',['fbt','AdsLoadStateUtils_LEGACY','AdsPageStore','FluxContainer','LocationManagerSetUpWizard.react','LocationManagerSetUpWizardUtils','Map','React','XBusinessLocationManagerController','XUINotice.react','XUISpinner.react','goURI'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').Component,l=c('React').PropTypes,m=new (c('Map'))();i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$LocationManagerSetUpWizardContainer3=function(t){var u=this.props.alternativeRedirectURL||c('XBusinessLocationManagerController').getURIBuilder().setFBID('business_id',this.props.businessID).setFBID('page_id',t).getURI();this.setState({isDialogLoading:true},function(){c('LocationManagerSetUpWizardUtils').whitelistPage(t).done(function(){return c('goURI')(u)},function(){return this.setState({hasDialogError:true,isDialogLoading:false})}.bind(this))}.bind(this))}.bind(this),this.$LocationManagerSetUpWizardContainer1=function(){this.setState({hasDialogError:false,isDialogShown:true})}.bind(this),this.$LocationManagerSetUpWizardContainer2=function(t){this.setState({isDialogShown:t})}.bind(this),p}n.getStores=function(){'use strict';return [c('AdsPageStore')]};n.calculateState=function(o,p){'use strict';return {hasDialogError:o&&o.hasDialogError||false,isDialogLoading:o&&o.isDialogLoading||false,isDialogShown:o&&o.isDialogShown||false,pagesById:p.pagesEligibleForLocations.length>0?c('AdsPageStore').getAll(p.pagesEligibleForLocations):m}};n.prototype.render=function(){'use strict';if(this.props.pagesEligibleForLocations.length===0)return this.props.hideNoLocationsNotice?null:c('React').createElement(c('XUINotice.react'),null,h._("No eligible pages have been found for this business account."));if(c('AdsLoadStateUtils_LEGACY').anyError(this.state.pagesById))return c('React').createElement(c('XUINotice.react'),{use:'warn'},h._("Unable to retrive the list of pages."));if(c('AdsLoadStateUtils_LEGACY').anyLoading(this.state.pagesById))return c('React').createElement(c('XUISpinner.react'),{size:this.props.spinnerSize});var o=Object.create(null);for(var p=this.state.pagesById,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];o[u]=v}return c('React').createElement(c('LocationManagerSetUpWizard.react'),{businessID:this.props.businessID,buttonProps:this.props.buttonProps,eligiblePages:o,hasDialogError:this.state.hasDialogError,isDialogLoading:this.state.isDialogLoading,isDialogShown:this.state.isDialogShown,singlePageModeIfPossible:this.props.singlePageModeIfPossible,onButtonClick:this.$LocationManagerSetUpWizardContainer1,onDialogToggle:this.$LocationManagerSetUpWizardContainer2,onPageConversionRequested:this.$LocationManagerSetUpWizardContainer3})};n.defaultProps={hideNoLocationsNotice:false,spinnerSize:'large'};n.propTypes={alternativeRedirectURL:l.object,businessID:l.string.isRequired,buttonProps:l.object.isRequired,hideNoLocationsNotice:l.bool,pagesEligibleForLocations:l.arrayOf(l.string).isRequired,singlePageModeIfPossible:l.bool,spinnerSize:l.string};f.exports=c('FluxContainer').create(n,{withProps:true})}),null);