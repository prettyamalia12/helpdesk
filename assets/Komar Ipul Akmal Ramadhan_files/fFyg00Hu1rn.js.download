if (self.CavalryLogger) { CavalryLogger.start_js(["YHUS8"]); }

__d('NotificationJewelListBucketHeader.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){return c('React').createElement('div',{className:"_fyy"},j.title.toUpperCase())}f.exports=i}),null);
__d('NotificationBucketGeneric.react',['cx','NotificationJewelListBucketHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.title,n=l.ids,o=l.listRenderer,p=l.startIndex;if(n.length===0)return null;var q=o(n,p);return c('React').createElement('div',{className:"_32hm"},m?c('React').createElement(c('NotificationJewelListBucketHeader.react'),{title:m}):null,c('React').createElement('ul',null,q))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('NotificationBucket.react',['cx','BootloadedComponent.react','NotificationBucketGeneric.react','NotificationBucketUtils','NotificationJewelListBucketHeader.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$NotificationBucket1=function(){var l=this.props.bucket,m=l.bucketType,n=l.title;return c('React').createElement('div',null,c('React').createElement(c('NotificationJewelListBucketHeader.react'),{title:n,bucketType:m}),c('React').createElement(c('XUISpinner.react'),{className:"_1e00"}))};k.prototype.render=function(){var l=this.props,m=l.bucket,n=l.listRenderer,o=l.startIndex,p=m.bucketType,q=c('NotificationBucketUtils').getCustomModuleForType(p);if(!q)return c('React').createElement(c('NotificationBucketGeneric.react'),babelHelpers['extends']({},m,{listRenderer:n,startIndex:o}));return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:q,bootloadPlaceholder:this.$NotificationBucket1()},m))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('WebNotificationsBottomCollisionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:WebNotificationsBottomCollisionsLoggerConfig',this.$WebNotificationsBottomCollisionsTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:WebNotificationsBottomCollisionsLoggerConfig',this.$WebNotificationsBottomCollisionsTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$WebNotificationsBottomCollisionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$WebNotificationsBottomCollisionsTypedLogger1=babelHelpers['extends']({},this.$WebNotificationsBottomCollisionsTypedLogger1,j);return this};h.prototype.setVC=function(j){this.$WebNotificationsBottomCollisionsTypedLogger1.vc=j;return this};var i={vc:true};f.exports=h}),null);
__d('NotificationJewelList.react',['cx','fbt','Animation','ErrorBoundary.react','Event','EventProfiler','FunnelLogger','LogicalGrid.react','NotificationBucket.react','NotificationJewelFunnelLoggingConstants','NotificationListConfig','NotificationListItem.react','NotificationListPropTypes','NotificationVPVs','NotifTestIDs','QE2Logger','React','ReactDOM','ScrollableArea.react','SubscriptionsHandler','TimeSlice','Vector','WebNotificationsBottomCollisionsTypedLogger','XUISpinner.react','debounce','getObjectValues','isEmpty','throttle'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,m=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,n=c('NotificationListConfig').numStoriesFromEndBeforeAFetchIsTriggered,o=160,p=530,q=61,r=Math.ceil(q*n),s=430,t=void 0;function u(w){if(t!=w){new (c('WebNotificationsBottomCollisionsTypedLogger'))().log();t=w}}j=babelHelpers.inherits(v,c('React').Component);k=j&&j.prototype;function v(){var w,x;'use strict';for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=k.constructor).call.apply(w,[this].concat(z)),this.state={lastMeasuredHeight:null},this.$NotificationJewelList2=[],this.$NotificationJewelList6=new (c('SubscriptionsHandler'))(),this.$NotificationJewelList9=function(){if(!this.$NotificationJewelList3||!this.$NotificationJewelList5)return;var ba=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!ba)return;var ca=c('ReactDOM').findDOMNode(this.$NotificationJewelList5);if(!ca)return;var da=c('NotificationVPVs').getValidatedRectangle(ca);if(this.props.afterScroll){var ea=function(){this.props.afterScroll(this.$NotificationJewelList7(),ba,da)}.bind(this),fa=c('Vector').getElementDimensions(ca).y,ga=this.$NotificationJewelList5&&this.$NotificationJewelList5.getArea();if(ga&&ga.getContentHeight()>=fa){c('EventProfiler').informManualInteractionTimestamp(['Notifications_Jewel_Button'],true);c('TimeSlice').guard(ea,'NotificationJewelList afterScrollCallback',{isContinuation:false})()}else ea();}}.bind(this),this.$NotificationJewelList10=function(){return c('getObjectValues')(this.props.notifs).map(function(ba){return JSON.stringify(ba)})}.bind(this),this.$NotificationJewelList14=function(ba,ca){var da,ea=this,fa=this.$NotificationJewelList11(ca);if(ba.ids&&ba.ids.length){var da=function(){var ga=ea.props.notifs,ha=ba.ids.filter(function(ia){return !!ga[ia]});if(ha.length===0)return {v:null};}();if(typeof da==="object")return da.v;}return c('React').createElement('li',{key:ca},c('React').createElement(c('NotificationBucket.react'),{bucket:ba,listRenderer:this.$NotificationJewelList15,startIndex:fa}))}.bind(this),this.$NotificationJewelList15=function(ba,ca){ca=ca||0;return ba.map(function(da,ea){var fa=this.props.notifs[da];if(!fa)return null;var ga=ea+ca;return this.$NotificationJewelList16(fa,ga,ga)}.bind(this))}.bind(this),this.$NotificationJewelList19=function(){this.setState(function(ba){return babelHelpers['extends']({},ba,{lastMeasuredHeight:this.$NotificationJewelList8()})}.bind(this))}.bind(this),this.$NotificationJewelList20=function(){var ba=c('debounce')(this.$NotificationJewelList19);this.$NotificationJewelList6.addSubscriptions(ba);return ba}.bind(this)(),this.$NotificationJewelList22=function(){c('FunnelLogger').appendAction(l,m.SCROLL_TO_FETCH);this.$NotificationJewelList9()}.bind(this),this.$NotificationJewelList23=function(){if(c('NotificationListConfig').scrollToFetchThrottleInsteadOfDebounce){return c('throttle').acrossTransitionsWithBlocking(this.$NotificationJewelList22)}else{var ba=c('debounce')(this.$NotificationJewelList22);this.$NotificationJewelList6.addSubscriptions(ba);return ba}}.bind(this)(),x}v.prototype.$NotificationJewelList7=function(){'use strict';if(!this.$NotificationJewelList4||!this.$NotificationJewelList5)return false;var w=c('ReactDOM').findDOMNode(this.$NotificationJewelList5);if(!w)return false;var x=c('ReactDOM').findDOMNode(this.$NotificationJewelList4);if(!x)return false;var y=c('Vector').getElementDimensions(w).y;if(y===0)return false;var z=c('Vector').getElementPosition(w).y+y,aa=c('Vector').getElementPosition(x).y,ba=this.$NotificationJewelList5&&this.$NotificationJewelList5.getArea();if(ba&&ba.getScrollTop()>0&&aa<z)u(c('getObjectValues')(this.props.notifs).length);c('QE2Logger').logExposureForUser('www_notifications_perf_h2_2017');return aa-r<z};v.prototype.$NotificationJewelList8=function(){'use strict';var w=c('Vector').getViewportDimensions().y,x=Math.min(this.props.maxHeight||p,w-o);return x};v.prototype.$NotificationJewelList11=function(w){'use strict';return this.$NotificationJewelList2.slice(0,w).reduce(function(x,y){return x+y},0)};v.prototype.$NotificationJewelList12=function(w){'use strict';this.$NotificationJewelList2=w?w.map(function(x){return x.ids.length}):[]};v.prototype.$NotificationJewelList13=function(){'use strict';if(!this.props.buckets)return null;return this.props.buckets.map(this.$NotificationJewelList14)};v.prototype.$NotificationJewelList16=function(w,x,y){'use strict';var z=w.alert_id;return c('React').createElement(c('ErrorBoundary.react'),{key:z},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationJewelList10,isRead:this.props.readState[z],negativeTracking:this.props.negativeTracking,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onRead:this.props.onRead,parent:this,paused:this.props.paused,row:x,rowIndex:y,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[z],notification:w}))};v.prototype.$NotificationJewelList17=function(w,x){'use strict';var y=void 0;if(!w){y=function aa(ba){return ba}}else y=function aa(ba){if(ba.notifTab===x)return ba;return null};var z=c('getObjectValues')(this.props.notifs).filter(y).map(function(aa){return aa.alert_id});return c('getObjectValues')(this.props.notifs).filter(y).map(function(aa,ba){var ca=aa.alert_id,da=this.$NotificationJewelList18(ca,z);return this.$NotificationJewelList16(aa,da,ba)}.bind(this))};v.prototype.$NotificationJewelList21=function(w){'use strict';if(this.props.onNumNotificationsViewableChange)this.props.onNumNotificationsViewableChange(w/q);};v.prototype.componentWillMount=function(){'use strict';this.$NotificationJewelList12(this.props.buckets);this.$NotificationJewelList6.addSubscriptions(c('Event').listen(window,'resize',this.$NotificationJewelList20));this.$NotificationJewelList19()};v.prototype.componentDidMount=function(){'use strict';var w=this.state.lastMeasuredHeight;if(w!=null)this.$NotificationJewelList21(w);};v.prototype.componentWillReceiveProps=function(w){'use strict';if(w.buckets===this.props.buckets)return;this.$NotificationJewelList12(w.buckets)};v.prototype.componentDidUpdate=function(w,x){'use strict';if(this.props.paused&&!w.paused)if(this.props.shouldScroll&&this.$NotificationJewelList5){var y=this.$NotificationJewelList5.getArea();if(y)y.scrollToTop(false);}var z=this.state.lastMeasuredHeight;if(z!=null&&z!==x.lastMeasuredHeight){this.$NotificationJewelList21(z);if(this.$NotificationJewelList1){this.$NotificationJewelList1.stop();delete this.$NotificationJewelList1}if(!c('isEmpty')(this.props.notifs)){var aa=c('ReactDOM').findDOMNode(this.$NotificationJewelList5);if(aa)this.$NotificationJewelList1=new (c('Animation'))(aa).to('height',z+'px').duration(100).go();}}var ba=setTimeout(this.$NotificationJewelList9,0);this.$NotificationJewelList6.addSubscriptions({remove:function ca(){clearTimeout(ba)}})};v.prototype.componentWillUnmount=function(){'use strict';this.$NotificationJewelList6.release();if(this.$NotificationJewelList1){this.$NotificationJewelList1.stop();delete this.$NotificationJewelList1}};v.prototype.$NotificationJewelList18=function(w,x){'use strict';return x.indexOf(w)};v.prototype.$NotificationJewelList24=function(){'use strict';if(this.props.buckets&&this.props.buckets.length)return this.$NotificationJewelList13();return this.$NotificationJewelList17(false,'')};v.prototype.render=function(){'use strict';var w=this.props.notifs,x=null,y=null,z=s,aa=null,ba=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST});if(!c('isEmpty')(w)){x=c('React').createElement(c('LogicalGrid.react'),{ref:function(ga){return this.$NotificationJewelList3=ga}.bind(this),component:ba},this.$NotificationJewelList24());y=this.state.lastMeasuredHeight}else if(!this.props.canFetchMore)x=c('React').createElement('div',{className:"_572e",'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST},i._("No new notifications"));if(this.props.canFetchMore)aa=c('React').createElement(c('XUISpinner.react'),{ref:function(ga){return this.$NotificationJewelList4=ga}.bind(this),paused:!this.props.currentlyFetching,className:"jewelLoading"});var ca=null;if(this.props.upsell){var da=this.props.upsell.module;ca=c('React').createElement(da,this.props.upsell.props)}var ea="_50-t"+(this.props.showingChevron?' '+"_2iy1":''),fa=c('React').createElement(c('ScrollableArea.react'),{ref:function(ga){return this.$NotificationJewelList5=ga}.bind(this),width:z,fade:true,persistent:true,onScroll:this.$NotificationJewelList23},x,aa);return c('React').createElement('div',{style:y?{height:y+'px'}:{},className:ea},fa,ca)};v.propTypes=c('NotificationListPropTypes');f.exports=v}),null);