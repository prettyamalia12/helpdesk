if (self.CavalryLogger) { CavalryLogger.start_js(["613Ed"]); }

__d('CandelaBarAreaLabel.react',['CandelaConstants','CandelaStyles','React','ReactART'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('ReactART').Group,k=c('ReactART').Path,l=c('ReactART').Shape,m=c('ReactART').Text,n=c('CandelaConstants').Style,o=4;h=babelHelpers.inherits(p,c('React').Component);i=h&&h.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=i.constructor).call.apply(q,[this].concat(t)),this.$BarAreaLabel1=function(){var v=this.props,w=v.x,x=v.y,y=this.props,z=y.fill,aa=y.height,ba=y.width;if(z){aa-=o*2;ba-=o*2;var ca=k();ca.moveTo(w-ba/2,x-aa/2).line(ba-aa/2,0).line(aa/2,aa/2).line(-aa/2,aa/2).line(aa/2-ba,0).line(0,-aa);return c('React').createElement(l,{fill:z,stroke:z,strokeCap:'round',strokeWidth:o,d:ca})}return null}.bind(this),r}p.prototype.$BarAreaLabel2=function(){var q=this.props,r=q.content,s=q.fontFamily,t=q.fontSize,u=q.fontStyle,v=q.fontWeight,w=q.paddingBottom,x=q.paddingTop,y=this.props,z=y.color,aa=y.x,ba=y.y;ba+=x-w;return c('React').createElement(m,{alignment:'center',fill:z,font:{fontFamily:s,fontSize:t,fontStyle:u,fontWeight:v},x:aa,y:ba},r)};p.prototype.render=function(){return c('React').createElement(j,null,this.$BarAreaLabel1(),this.$BarAreaLabel2())};p.propTypes=c('CandelaStyles').getPropTypes(n.COLOR,n.CONTENT,n.FILL,n.FONT,n.HEIGHT,n.PADDING,n.WIDTH);f.exports=p}),null);
__d('CandelaBarAreas.react',['invariant','CandelaBarAreaLabel.react','CandelaConstants','CandelaGlobalThemeRegistry','CandelaInteractivePath.react','CandelaPureRenderMixin','CandelaTheme','CandelaUtils','immutable','React','ReactART'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('CandelaConstants').Attribute,j=c('CandelaConstants').PseudoClass,k=c('CandelaConstants').ShapeType,l=c('CandelaConstants').Style,m=c('ReactART').Group,n=c('React').PropTypes,o=c('immutable').Map,p=c('immutable').OrderedSet,q=c('immutable').Set,r=c('CandelaUtils').data,s=r.classNamesToSelector,t=r.computeHighlightPseudoClass,u=r.getClassNamesFromInputString;c('CandelaGlobalThemeRegistry').register({type:k.BAR_AREA,attributes:[i.SERIES],pseudoClasses:[j.HIGHLIGHTED,j.HOVER,j.MUTED,j.PROXIMITY],styles:[l.FILL,l.OPACITY,l.STROKE,l.STROKE_DASHARRAY,l.STROKE_WIDTH],children:[{type:k.BAR_AREA_LABEL,element:c('CandelaBarAreaLabel.react'),styles:[l.MARGIN,l.VISIBILITY]}]});var v=c('React').createClass({displayName:'CandelaBarAreas',mixins:[c('CandelaPureRenderMixin')],contextTypes:{schema:n.instanceOf(o),theme:n.instanceOf(c('CandelaTheme'))},propTypes:{barGroupStructs:n.arrayOf(n.shape({classNames:n.instanceOf(q).isRequired,data:n.object.isRequired,rect:n.object.isRequired})),groupBy:n.string,height:n.number,highlights:n.instanceOf(q),labelFormatterFactory:n.func.isRequired,order:n.instanceOf(p),width:n.number,x:n.number,y:n.number},getDefaultProps:function w(){return {height:0,width:0,x:0,y:0}},_computeAreaPoints:function w(x,y,z,aa,ba,ca){var da=this.props,ea=da.height,fa=da.y,ga=x.rect,ha=y.rect;return [{x:ha.x+ha.width,y:aa[ba]},{x:ga.x,y:z[ba]},{x:ga.x,y:ca?z[ca]:fa+ea},{x:ha.x+ha.width,y:ca?aa[ca]:fa+ea}]},_computeLabelPoint:function w(x,y){var z=y.marginBottom,aa=y.marginLeft,ba=y.marginRight,ca=y.marginTop,da=x[0],ea=x[1];return {x:da.x+(ea.x-da.x)/2+aa-ba,y:da.y+(ea.y-da.y)/2+ca-z}},_handleShapeEvent:function w(x,y){y.target=k.BAR_AREA;y.data=babelHelpers['extends']({},y.data,x)},_renderArea:function w(x,y,z,aa){var ba=this.context.theme,ca=ba.getStyle(aa),da=ba.getHoverStyle(aa),ea=ba.getProximityStyle(aa);return c('React').createElement(c('CandelaInteractivePath.react'),{hoverStyle:da,points:z,proximityStyle:ea,key:y,regionID:y,style:ca})},render:function w(){var x=this.context,y=x.schema,z=x.theme,aa=this.props,ba=aa.barGroupStructs,ca=aa.groupBy,da=aa.highlights,ea=aa.labelFormatterFactory,fa=aa.order;ba!=null||h(0);ca!=null||h(0);fa!=null||h(0);var ga=[],ha=[],ia=void 0,ja={};ba.forEach(function(ka,la){var ma=ka.data,na={},oa=void 0,pa=0;fa.first().toIndexedSeq().forEach(function(qa,ra){var sa=ma[qa],ta=sa.scale,ua=sa.value;pa+=ua;na[qa]=ta.convert(pa);if(qa in ja){var va,wa=ba[la-1],xa=this._computeAreaPoints(ka,wa,na,ja,qa,oa),ya=wa.data[qa].value,za=(va={},va[ca]=babelHelpers['extends']({},ma[ca]),va[qa]={scale:ta,value:ya?ua/ya:ya},va),ab=qa+'-bararea-'+la,bb=j.NONE;if(da)bb=t(da,qa,ma[ca].value);var cb=u(y.get(qa).className),db=ka.classNames.intersect(wa.classNames).union(cb),eb=k.BAR_AREA+s(db)+('[series="'+qa+'"]')+bb;ga.push(this._renderArea(za,ab,xa,eb));var fb=eb+'>'+k.BAR_AREA_LABEL,gb=z.getStyle(fb);if(gb.visibility!=='hidden'){var hb=this._computeLabelPoint(xa,gb);if(!ia)ia=ea(ta,qa);var ib=ia(ya?ua/ya:0,ma[ca].value);if(ib){var jb=z.getElement(k.BAR_AREA_LABEL);ha.push(c('React').createElement(jb,babelHelpers['extends']({},gb,hb,{content:ib,key:qa+'-bararealabel-'+la})))}}}oa=qa}.bind(this));ja=na}.bind(this));return c('React').createElement(m,null,ga,ha)}});f.exports=v}),null);
__d('InsightsFunnelChart.react',['CandelaAxis.react','CandelaBarAreas.react','CandelaBarGroups.react','CandelaBars.react','CandelaChartLayout.react','CandelaChartSurface.react','CandelaConstants','CandelaGridLines.react','CandelaGroupScaleBuilder','CandelaPanel.react','CandelaStackScaleBuilder','CandelaTheme','immutable','InsightsFormatterFactories','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('CandelaConstants').Alignment,k=c('CandelaConstants').Orientation,l=c('immutable').Map,m=c('immutable').OrderedSet,n=c('immutable').Set,o=c('React').PropTypes;h=babelHelpers.inherits(p,c('React').PureComponent);i=h&&h.prototype;p.prototype.render=function(){var q=this.props,r=q.anchorRect,s=q.axisMarkFormatterFactory,t=q.axisSubMarkFormatterFactory,u=q.barAreaLabelFormatterFactory,v=q.barLabelFormatterFactory,w=q.data,x=q.height,y=q.highlights,z=q.interactive,aa=q.onClick,ba=q.onLongPress,ca=q.onTouchEnd,da=q.onTouchEnter,ea=q.onTouchLeave,fa=q.onTouchMove,ga=q.onTouchStart,ha=q.onMouseDown,ia=q.onMouseEnter,ja=q.onMouseLeave,ka=q.onMouseMove,la=q.onMouseOver,ma=q.onMouseOut,na=q.onMouseUp,oa=q.plotX,pa=q.plotY,qa=q.schema,ra=q.theme,sa=q.width,ta=oa.getTitle(),ua=pa.getTitle(),va=oa.getSeriesNames(),wa=pa.getSeriesNames(),xa=ra.getStyle('axis[orientation="vertical"][alignment="left"]'),ya=ra.getStyle('axis[orientation="vertical"][alignment="right"]'),za=ra.getStyle('axis[orientation="horizontal"]'),ab=void 0;if(za.visibility==='visible')ab=c('React').createElement(c('CandelaAxis.react'),{alignment:j.BOTTOM,height:za.height,markFormatterFactory:s,orientation:k.HORIZONTAL,plot:va[0],subMarkFormatterFactory:t,title:ta});var bb=void 0;if(xa.visibility==='visible')bb=c('React').createElement(c('CandelaAxis.react'),{alignment:j.LEFT,markFormatterFactory:s,orientation:k.VERTICAL,plot:wa[0],subMarkFormatterFactory:t,title:ua,width:xa.width});var cb=c('React').createElement(c('CandelaPanel.react'),null,c('React').createElement(c('CandelaGridLines.react'),{plotY:wa[0]}),c('React').createElement(c('CandelaBarGroups.react'),{groupBy:va[0],highlights:y,order:m([m(wa)])},c('React').createElement(c('CandelaBars.react'),{labelFormatterFactory:v}),c('React').createElement(c('CandelaBarAreas.react'),{labelFormatterFactory:u}))),db=void 0;if(ya.visibility==='visible')db=c('React').createElement(c('CandelaAxis.react'),{alignment:j.RIGHT,markFormatterFactory:s,orientation:k.VERTICAL,plot:wa[0],subMarkFormatterFactory:t,title:ua,width:ya.width});return c('React').createElement(c('CandelaChartSurface.react'),{anchorRect:r,data:m(w),height:x,interactive:z,onClick:aa,onLongPress:ba,onMouseDown:ha,onMouseEnter:ia,onMouseLeave:ja,onMouseMove:ka,onMouseOut:ma,onMouseOver:la,onMouseUp:na,onTouchEnd:ca,onTouchEnter:da,onTouchLeave:ea,onTouchMove:fa,onTouchStart:ga,scales:n([oa,pa]),schema:l(qa),theme:ra,width:sa},c('React').createElement(c('CandelaChartLayout.react'),{bottomXAxis:ab,leftYAxis:bb,plotArea:cb,rightYAxis:db}))};function p(){h.apply(this,arguments)}p.propTypes={axisMarkFormatterFactory:o.func,axisSubMarkFormatterFactory:o.func,barAreaLabelFormatterFactory:o.func,barLabelFormatterFactory:o.func,data:o.array.isRequired,height:o.number.isRequired,interactive:o.bool,highlights:o.instanceOf(n),onClick:o.func,onLongPress:o.func,onTouchEnd:o.func,onTouchEnter:o.func,onTouchLeave:o.func,onTouchMove:o.func,onTouchStart:o.func,onMouseDown:o.func,onMouseEnter:o.func,onMouseLeave:o.func,onMouseMove:o.func,onMouseOver:o.func,onMouseOut:o.func,onMouseUp:o.func,plotX:o.instanceOf(c('CandelaGroupScaleBuilder')).isRequired,plotY:o.instanceOf(c('CandelaStackScaleBuilder')).isRequired,schema:o.object.isRequired,theme:o.instanceOf(c('CandelaTheme')).isRequired,width:o.number.isRequired};p.defaultProps={axisMarkFormatterFactory:c('InsightsFormatterFactories').axisMarkFormatterFactory,axisSubMarkFormatterFactory:c('InsightsFormatterFactories').axisSubMarkFormatterFactory,barAreaLabelFormatterFactory:c('InsightsFormatterFactories').barAreaLabelFormatterFactory,barLabelFormatterFactory:c('InsightsFormatterFactories').barLabelFormatterFactory};f.exports=p}),null);